var search=$(".search")[0],icon=$(".icon-search")[0];search.onfocus=function(){$(this).css("padding-left","1rem"),$(icon).css("left","0.6rem")},search.onblur=function(){0==$(this).val().length&&($(this).css("padding-left","7.8rem"),$(icon).css("left","7.4rem"))},$(".btn-announce").each(function(){$(this).on("click",function(){$(".announce").css("display","block")})});var rating=function(){function t(t,n){var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}var n=function(t,n){this.$el=$(t),this.$items=this.$el.find(".rating-item"),this.opts=n,this.add=1,this.selectEvent="mouseover"};n.prototype.init=function(){this.lightOn(this.opts.num),this.bindEvent()},n.prototype.lightOn=function(t){t=parseInt(t),this.$items.each(function(n){n<t?$(this).css("background","url(./images/Star_light.png)"):$(this).css("background","url(./images/Star_off.png)")})},n.prototype.bindEvent=function(){var t=this,n=t.$items.length;t.$el.on(t.selectEvent,".rating-item",function(i){var e=$(this),o=0;t.select(i,e),o=e.index()+t.add,t.lightOn(o),"function"==typeof t.opts.select&&t.opts.select.call(this,o,n)}).on("click",".rating-item",function(){t.opts.num=$(this).index()+t.add,"function"==typeof t.opts.chosen&&t.opts.chosen.call(this,t.opts.num,n)}).on("mouseout",function(){t.lightOn(t.opts.num)})},n.prototype.select=function(){throw new Error("子类必须重写select方法")},n.prototype.unbindEvent=function(){this.$el.off()};var i=function(t,i){n.call(this,t,i),this.selectEvent="mouseover"};t(i,n),i.prototype.lightOn=function(t){n.prototype.lightOn.call(this,t)},i.prototype.select=function(){self.add=1};var e=function(t,i){n.call(this,t,i),this.selectEvent="mousemove"};t(e,n),e.prototype.lightOn=function(t){var i=parseInt(t);isHalf=i!==t,n.prototype.lightOn.call(this,i),isHalf&&this.$items.eq(i).css("background-position","0 -90px")},e.prototype.select=function(t,n){t.pageX-n.offset().left<n.width()/2?this.add=.5:this.add=1};var o={mode:"lightEntire",num:0,readOnly:!1,select:function(){},chosen:function(){}},s={lightEntire:i,lightHalf:e},c=function(t,n){var i=$(t),e=i.data("rating"),c=$.extend({},o,"object"==typeof n&&n);s[c.mode]||(c.mode="lightEntire"),e||(i.data("rating",e=new s[c.mode](t,c)),e.init()),"string"==typeof n&&e[n]()};return $.fn.extend({rating:function(t){return this.each(function(){c(this,t)})}}),{init:c}}();$("#rating").rating({mode:"lightEntire",num:0});