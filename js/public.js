function creatList(e,t){e.forEach(function(e,n,i){var c=new Object;c.text=e.name,c.value=n,t.push(c)})}if($(".search").length>0&&($(".search").focus(function(){$(this).css("padding-left","1rem"),$(".icon-search").css("left","0.6rem")}),$(".search").blur(function(){0==$(this).val().length&&($(this).css("padding-left","7.8rem"),$(".icon-search").css("left","7.4rem"))})),$(".btn-announce").each(function(){$(this).on("click",function(){$(".announce").css("display","block")})}),$(".info-check").each(function(){$(this).on("click",function(){$(this).find(".icon-check").toggle()})}),$(".date").each(function(){$(this).on("change",function(){$(this).siblings(".time-container").html($(this).val())})}),$('script[src="./node_modules/swiper/dist/js/swiper.min.js"]').length>0)var swiper=new Swiper(".swiper-container",{pagination:".swiper-pagination",slidesPerView:1,paginationClickable:!0,spaceBetween:30,loop:!0});if($(".button").on("click",function(){$(this).toggleClass("button-on"),$(".icon-tool").toggle(),$(".icon-worker").toggle()}),$(".menu").on("click",function(){$(".menu-wrapper").fadeIn()}),$(".close").on("click",function(){$(".menu-wrapper").fadeOut()}),$('script[src="./js/single.js"]').length>0){var data1=[{text:"1件",value:1},{text:"2件",value:2},{text:"3件",value:3},{text:"4件",value:4},{text:"5件",value:5},{text:"6件",value:6},{text:"7件",value:7},{text:"8件",value:8},{text:"9件",value:9},{text:"10件",value:10}],data2=[{text:"5成新",value:1},{text:"6成新",value:2},{text:"7成新",value:3},{text:"8成新",value:4},{text:"9成新",value:5}],picker1El=document.getElementById("picker1"),picker2El=document.getElementById("picker2"),picker3El=document.getElementById("picker3"),picker4El=document.getElementById("picker4"),picker1=new Picker({data:[data1]});picker1.on("picker.select",function(e,t){picker1El.innerText=data1[t[0]].text}),picker1El.addEventListener("click",function(){picker1.show()});var picker2=new Picker({data:[data2]});picker2.on("picker.select",function(e,t){picker2El.innerText=data2[t[0]].text}),picker2El.addEventListener("click",function(){picker2.show()});var picker3=new Picker({data:[data1]});picker3.on("picker.select",function(e,t){picker3El.innerText=data1[t[0]].text}),picker3El.addEventListener("click",function(){picker3.show()});var picker4=new Picker({data:[data2]});picker4.on("picker.select",function(e,t){picker4El.innerText=data2[t[0]].text}),picker4El.addEventListener("click",function(){picker4.show()})}if($('script[src="./js/city.js"]').length>0){var nameEl=document.getElementById("city-picker");nameEl.addEventListener("click",function(){picker.show()});var first=[],second=[],third=[],selectedIndex=[0,0,0],checked=[0,0,0];creatList(city,first),city[selectedIndex[0]].hasOwnProperty("sub")?creatList(city[selectedIndex[0]].sub,second):second=[{text:"",value:0}],city[selectedIndex[0]].sub[selectedIndex[1]].hasOwnProperty("sub")?creatList(city[selectedIndex[0]].sub[selectedIndex[1]].sub,third):third=[{text:"",value:0}];var picker=new Picker({data:[first,second,third],selectedIndex:selectedIndex,title:"地址选择"});picker.on("picker.select",function(e,t){var n=first[t[0]].text,i=second[t[1]].text,c=third[t[2]]?third[t[2]].text:"";nameEl.innerText=n+" "+i+" "+c}),picker.on("picker.change",function(e,t){0===e?function(){second=[],third=[],checked[0]=t;var e=city[t];if(e.hasOwnProperty("sub")){creatList(e.sub,second);var n=city[t].sub[0];n.hasOwnProperty("sub")?creatList(n.sub,third):(third=[{text:"",value:0}],checked[2]=0)}else second=[{text:"",value:0}],third=[{text:"",value:0}],checked[1]=0,checked[2]=0;picker.refillColumn(1,second),picker.refillColumn(2,third),picker.scrollColumn(1,0),picker.scrollColumn(2,0)}():1===e&&function(){third=[],checked[1]=t;var e=checked[0];city[e].sub[t].hasOwnProperty("sub")?(creatList(city[e].sub[t].sub,third),picker.refillColumn(2,third),picker.scrollColumn(2,0)):(third=[{text:"",value:0}],checked[2]=0,picker.refillColumn(2,third),picker.scrollColumn(2,0))}()}),picker.on("picker.valuechange",function(e,t){console.log(e),console.log(t)})}var rating=function(){function e(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}var t=function(e,t){this.$el=$(e),this.$items=this.$el.find(".rating-item"),this.opts=t,this.add=1,this.selectEvent="mouseover"};t.prototype.init=function(){this.lightOn(this.opts.num),this.bindEvent()},t.prototype.lightOn=function(e){e=parseInt(e),this.$items.each(function(t){t<e?$(this).css("background-image","url(./images/Star_light.png)"):$(this).css("background-image","url(./images/Star_off.png)")})},t.prototype.bindEvent=function(){var e=this,t=e.$items.length;e.$el.on(e.selectEvent,".rating-item",function(n){var i=$(this),c=0;e.select(n,i),c=i.index()+e.add,e.lightOn(c),"function"==typeof e.opts.select&&e.opts.select.call(this,c,t)}).on("click",".rating-item",function(){e.opts.num=$(this).index()+e.add,"function"==typeof e.opts.chosen&&e.opts.chosen.call(this,e.opts.num,t)}).on("mouseout",function(){e.lightOn(e.opts.num)})},t.prototype.select=function(){throw new Error("子类必须重写select方法")},t.prototype.unbindEvent=function(){this.$el.off()};var n=function(e,n){t.call(this,e,n),this.selectEvent="mouseover"};e(n,t),n.prototype.lightOn=function(e){t.prototype.lightOn.call(this,e)},n.prototype.select=function(){self.add=1};var i=function(e,n){t.call(this,e,n),this.selectEvent="mousemove"};e(i,t),i.prototype.lightOn=function(e){var n=parseInt(e);isHalf=n!==e,t.prototype.lightOn.call(this,n),isHalf&&this.$items.eq(n).css("background-position","0 -90px")},i.prototype.select=function(e,t){e.pageX-t.offset().left<t.width()/2?this.add=.5:this.add=1};var c={mode:"lightEntire",num:0,readOnly:!1,select:function(){},chosen:function(){}},r={lightEntire:n,lightHalf:i},o=function(e,t){var n=$(e),i=n.data("rating"),o=$.extend({},c,"object"==typeof t&&t);r[o.mode]||(o.mode="lightEntire"),i||(n.data("rating",i=new r[o.mode](e,o)),i.init()),"string"==typeof t&&i[t]()};return $.fn.extend({rating:function(e){return this.each(function(){o(this,e)})}}),{init:o}}();$("#rating").rating({mode:"lightEntire",num:0}),$("#rating-1").rating({mode:"lightEntire",num:4}),$("#rating-2").rating({mode:"lightEntire",num:3}),$("#rating-3").rating({mode:"lightEntire",num:5});